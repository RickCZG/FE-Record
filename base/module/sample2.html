<!--
  
  作用域隔离
  让我们对上面的代码作些改动，使用单个变量模拟命名空间。

-->
<html>
  <head>
    <title>sample2</title>
    <script src="../../jquery-exercise/jquery-3.2.1.js"></script>
  </head>
  <body>
    
    <input type="text" id="J_input">

    <script>
      var textCount = {
        input: null,
        
        init: function(config){
          this.input = $(config.id);
          this.bind();

          return this;
        },

        bind: function(){
          var self = this;
          this.input.on("keyup", function(){
            self.render();
          });
        },

        getNum: function(){
          return this.input.val().length;
        },

        render: function(){
          var num = this.getNum();

          if($("#J_input_count").length == 0){
            this.input.after("<span id='J_input_count'></span>");
          }

          $("#J_input_count").html(num + "个字");

        }
      }

      $(function(){

        textCount.init({id:'#J_input'}).render();
      })
    </script>
  </body>
</html>