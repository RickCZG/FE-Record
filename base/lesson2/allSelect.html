<!DOCTYPE html>
<html>
<head>
	<title>全选／全不选</title>
	<style type="text/css">
		body{
			font-size: 12px;
		}
		dl{
			width: 120px;
			margin: 0 auto;
			border: 2px solid black;
		}
		dt{
			margin: 0px 15px;
			line-height: 25px;
			border-bottom: 1px solid black;
			position: relative;
		}
		dd{
			margin: 0px 15px;
			line-height: 25px;
		}
		a{
			text-decoration: none;
			position: absolute;
			right: 7px;
		}
	</style>
</head>
<body>
<dl>
	<dt>
		<input type="checkbox" name="" id="isCheckAll"><label id="isCheckAllText">全选</label>
		<a href="javascript:;">反选</a>
	</dt>
	<dd>
		<input type="checkbox" name="">
		<label>选项一</label>
	</dd>
	<dd>
		<input type="checkbox" name="">
		<label>选项二</label>
	</dd>
	<dd>
		<input type="checkbox" name="">
		<label>选项三</label>
	</dd>
	<dd>
		<input type="checkbox" name="">
		<label>选项四</label>
	</dd>
	<dd>
		<input type="checkbox" name="">
		<label>选项五</label>
	</dd>
	<dd>
		<input type="checkbox" name="">
		<label>选项六</label>
	</dd>
</dl>

<script type="text/javascript">
	var checkboxs = document.getElementsByTagName("input");
	var isCheckAllText = document.getElementsByTagName("label")[0];
	var reverseCheck = document.getElementsByTagName("a")[0];

	var checkAll = function (){
		for(var i = 1, n=0;i < checkboxs.length;i++){

			checkboxs[i].checked&&n++;
		}
		checkboxs[0].checked = (n == checkboxs.length - 1);
		checkboxs[0].checked ? (isCheckAllText.innerHTML = "全不选") : (isCheckAllText.innerHTML = "全选")
	}

	for(var i = 1;i < checkboxs.length;i++){	// 根据每个选项checkbox来更新全选／全不选的checkbox
		checkboxs[i].onclick = function () {
			checkAll();
		}
	}

	checkboxs[0].onclick = function () {	// 根据全选／全不选来更新每个选项checkbox
		for(var i = 1;i < checkboxs.length;i++){
			checkboxs[i].checked = this.checked;
		}
		checkAll();
	}

	reverseCheck.onclick = function () {	// 反选
		for(var i = 1;i < checkboxs.length;i++){
			checkboxs[i].checked = !checkboxs[i].checked;
		}
		checkAll();
	}
</script>
</body>
</html>